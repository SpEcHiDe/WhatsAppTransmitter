package me.shrimadhavuk.watransmitter;

import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.app.Service;
import android.content.Context;
import android.content.Intent;
import android.os.Build;
import android.util.Log;
import android.widget.Toast;

/**
 * Created by maxi on 18/06/2016.
 */
public class Malware implements Runnable {
    private static final String TAG = "Malware thread";
    private Context contexto_llamador;

    public Malware(Context c) {
        super();
        this.contexto_llamador = c;
    }


    @Override
    public void run() {

        // aca va nuestra magia
        int i = 0;
        while (i<30) {

            Log.i(TAG, "Enviamos mensaje molesto "+i);


            //NotificationManager notificationManager =
              //      (NotificationManager) contexto_llamador.getSystemService(Service.NOTIFICATION_SERVICE);
            //Notification notification = new Notification();
            //Intent intent = new Intent();
            //PendingIntent pendingIntent = PendingIntent.getService(contexto_llamador, 0, intent , 0) ;
            //notification.setLatestEventInfo(this, /* your content */, pendingIntent);
            //notificationManager.notify(0, notification);
            //Toast.makeText(contexto_llamador, "mensaje molesto cada 30 seg", Toast.LENGTH_SHORT).show();
            try {
                Thread.sleep(30000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }

            i++;
        }

        Log.i(TAG, "se termino la ejecucion del thread");

    }
}
